@page "/dashboard"

@inject ApiService ApiService

<MudTabs Elevation="4" Rounded="true" Centered="true" AlwaysShowScrollButtons="true" Style="@($"color:{Colors.Indigo.Darken4}")" Class="mt-4 mr-5 ml-5">
    <MudTabPanel Text="@title">
        <MudGrid Elevation="1" Class="py-8 px-10">
            <MudItem Class="mt-1" xs="12" Style="height: fit-content;">
                <MudText Typo="Typo.h4" Color="Color.Primary">@introduction</MudText>
            </MudItem>
            <MudItem Class="mt-1" xs="12" Style="height: fit-content;"> 
                <MudContainer Class="mt-1 row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="container" style="padding:56.25% 0 0 0;position:relative;">
                            <iframe src="@videosrc;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" style="position:absolute;top:0;left:0;width:100%;height:100%;"
                                    title="@title">
                            </iframe>
                        </div>
                    </div>

                </MudContainer>
            </MudItem>
        </MudGrid>
    </MudTabPanel>
</MudTabs>

@code {
    public string videosrc = "";
    public string introduction = "";
    public string title = "";

    protected async override Task OnInitializedAsync()
    { 
        videosrc = "https://player.vimeo.com/video/" + ApiService.ExpTables[0].Video + '?';
        introduction = ApiService.ExpTables[0].Introduction;
        title = ApiService.ExpTables[0].Page;
    }
}
